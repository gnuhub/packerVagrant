# Issues: None
# Note: Look in /root/waslogs/ for log files and install problems!
#
# -*- mode: ruby -*-
# vi: set ft=ruby :
# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!
VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
	config.vm.synced_folder "C:/Users/Dennis English/DownloadDirector/", "/installs"
	config.ssh.username = "root"
	config.ssh.password = "vagrant"
	
	config.omnibus.chef_version = :latest
	config.vm.define "was" do |was|
		was.vm.box = "TDIModel"
		was.vm.network "private_network", ip: "10.0.15.3"
		was.vm.provider "virtualbox" do |vb|
			vb.name = "timWAS"
			vb.gui = true
		end
		was.vm.network "forwarded_port", guest: 9060, host: 9060
		was.vm.network "forwarded_port", guest: 9043, host: 9043
		was.vm.network "forwarded_port", guest: 443, host: 8443		
#		was.vm.provision :chef_solo do |chef|
#			chef.cookbooks_path = "../scriptLibrary/cookbooks"
#			chef.add_recipe "wasSingleNode::default"
#			chef.log_level = :debug
#		end
	end
	
	config.vm.define "db2" do |db2|
		db2.vm.box = "TDIModel"
		db2.vm.network "private_network", ip: "10.0.15.5"
		db2.vm.provider "virtualbox" do |vb|
			vb.name = "timDB2"
			vb.gui = false
		end
#		db2.vm.provision :chef_solo do |chef|
#			chef.cookbooks_path = "../scriptLibrary/cookbooks"
#			chef.add_recipe "db2Node::default"
#			chef.log_level = :debug
#		end
	end	
	
	config.vm.define "tdi" do |tdi|
		tdi.vm.box = "TDIModel"
		tdi.vm.network "private_network", ip: "10.0.15.6"
		tdi.vm.provider "virtualbox" do |vb|
			vb.name = "timtdi"
			vb.gui = false
		end
#		tdi.vm.provision :chef_solo do |chef|
#			chef.cookbooks_path = "../scriptLibrary/cookbooks"
#			chef.add_recipe "tdiNode::default"
#			chef.log_level = :debug
#		end
	end
	
	config.vm.define "tds" do |tds|
		tds.vm.box = "TDIModel"
		tds.vm.network "private_network", ip: "10.0.15.4"
		tds.vm.provider "virtualbox" do |vb|
			vb.name = "timTDS"
			vb.gui = false
		end
		tds.vm.network "forwarded_port", guest: 12100, host: 12100
#		tds.vm.provision :chef_solo do |chef|
#			chef.cookbooks_path = "../scriptLibrary/cookbooks"
#			chef.add_recipe "tdsNode::default"
#			chef.log_level = :debug
#		end
	end
end